# Apuntes código máquina sobre chip zilog Z80 en Amstrad CPC.
Los ejercicios son hechos desde los videos de Juan Gallego, _aka_ Profesor Retromam.
[Link a canal de YT.](https://www.youtube.com/channel/UCSdIAKvPxlB3VlFDCBvI46A)
[Link a cuenta de TW.](https://twitter.com/FranGallegoBR)

# Nivel 1
## Reto 1.1

Pintar un pixel rojo en la esquina superior izquierda.
>3E 88 32 00 C0 3E 92 32 00 c0 18 fe 00 00 00 00

## Reto 1.2: Filas de colores
a)
4 pixeles de color rojo:
>3E FF 32 00 C0 18 FE

b)
24 pixeles en grupos de 4 sin usar el fondo (bonus usando 21) :
>21 FF F0 22 00 C0 21 0F F0 22 02 C0 21 FF 0F 22 
04 C0 18 FE

c)
12 pixeles en grupos de 2 (bonus usando 3E y 21):
>Z3E 6D 32 00 C0 3E A7 32 01 C0 00 21 6D A7 22 03
C0 18 FE 

d)
8 pixeles en grupos de 1
3E 6D 32 00 C0 3E B6 32 01 C0 (usando 3e)

>21 FF FF 22 00 C0 21 FF FF 22 02 C0 21 FF FF 22 04 C0 21 FF FF 22 06 C0 21 FF FF 22 10 C0 18 FE

>21 FF FF 22 00 C0 21 FF FF 22 02 C0 21 FF FF 22 04 C0 21 FF FF 22 06 C0 21 FF FF 22 08 C0 21 FF FF 22 10 C0 18 FE 

>21 CF F8 22 00 C0 21 F8 06 22 02 C0 21 03 00 22 04 C0 21 03 08 22 06 C0 21 75 FA 22 08 C0 21 69 3C 22 0A C0 18 FE 

>21 02 06 22 00 C0 21 96 B5 22 02 C0 21 FB 11 22 04 C0 21 88 FD 22 06 C0 21 DA 96 22 08 C0 21 06 04 22 0A C0 18 FE 
------
Fórmula para pintar en zona especifica de la pantalla:

_Falta insertar formula_

* La primera columna de la primera fila comienza en c000.

-----

# Nivel 2

## Reto 1 animacion final

* Suelo cyan
>21 0F 0F 3E 08 32 52 C0 22 50 C0

* Patas del gatete
> 21 10 20 22 00 F8

* Cuerpo. Se guardan los valores en HL y luego se copian a ambas filas (x2) 
> 21 10 E0 22 00 F0 22 00 E8 

* Fila superior del cuerpo: inicio de la cola mas primaera parte de la cara
> 21 22 30 3E 80 22 00 E0 32 02 E0

* siguiente parte de la cara mas la nariz
> 21 30 88 22 01 D8

* oreja cian del animal este
> 21 02 00 22 01 D0

### "Animacion de la cola"
* primer estado de la cola
> 3E 04 32 00 D0 3E 44 32 00 D8
 
* SEGUNDO ESTADO DE LA COLA
>3E 22 32 00 D8

* TERCER ESTADO DE LA COLA
> 3E 02 32 00 D0 -> 

* CUARTO ESTADO DE LA COLA
>3E 01 32 00 D0 3E 11 32 00 D8

* QUINTO ESTADO DE LA COLA
> 21 00 0A 22 00 D0

* SEXTO ESTADO DE LA COLA
> 21 02 01 22 00 D0 3E 22 32 00 D8

### Animacion completa (se puede optimizar) 
_(Comprobar ambos codigos y corregir los errores del bueno)_

1.
>21 0F 0F 3E 08 32 52 C0 22 50 C0 21 10 20 22 00 F8 21 10 E0 22 00 F0 22 00 E8 21 22 30 3E 80 22 00 E0 32 02 E0 21 30 88 22 01 D8 21 02 00 22 01 D0 3E 04 32 00 D0 3E 44 32 00 D8 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 22 32 00 D8 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 02 32 00 D0 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 01 32 00 D0 3E 11 32 00 D8 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 0A 22 00 D0 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 01 02 22 00 D0 3E 22 32 00 D8 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 00 22 00 F8 22 00 F0 21 20 10 22 00 E8 21 10 E0 22 00 E0 22 00 D8 21 22 30 3E 80 22 00 D0 32 02 D0 3E 88 22 00 C8 32 02 C8 21 04 02 22 00 C0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 00 22 00 C0 22 00 F8 21 08 02 22 00 C8 21 44 30 22 00 D0 32 02 D0 21 22 30 3E 80 22 00 D8 32 02 D8 21 10 20 22 00 F0 21 10 E0 22 00 E0 22 00 E8 00 00 00 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 C3 00 40

2.
>21 00 00 22 00 C0 22 00 C2 00 00 00 00 00 00 00 21 0F 0F 3E 08 32 52 C0 22 50 C0 21 10 20 22 00 F8 21 10 E0 22 00 F0 22 00 E8 21 22 30 3E 80 22 00 E0 32 02 E0 21 30 88 22 01 D8 21 02 00 22 01 D0 3E 04 32 00 D0 3E 44 32 00 D8 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 22 32 00 D8 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 02 32 00 D0 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 01 32 00 D0 3E 11 32 00 D8 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 0A 22 00 D0 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 01 02 22 00 D0 3E 22 32 00 D8 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 00 22 00 F8 22 00 F0 21 20 10 22 00 E8 21 10 E0 22 00 E0 22 00 D8 21 22 30 3E 80 22 00 D0 32 02 D0 3E 88 22 00 C8 32 02 C8 21 04 02 22 00 C0 3E 00 32 02 D8 32 02 E0 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 00 22 00 C0 22 00 F8 21 08 02 22 00 C8 21 44 30 22 00 D0 32 02 D0 21 22 30 3E 80 22 00 D8 32 02 D8 21 10 20 22 00 F0 21 10 E0 22 00 E0 22 00 E8 3E 00 32 00 C0 32 00 E0 32 02 C8 3E 88 32 02 D0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 C3 00 40

---

## Reto 2.2 Animaciones
### Láser con 0.3s por cada fotograma usando instrucciones 21 y 22

>3E FF 32 00 C0 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 21 00 FF 22 00 C0 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 22 01 C0 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 22 02 C0 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 00 32 03 C0 C3 00 40

---

## Reto 2.2
### Pintar y animar trampa 
_(Revisar codigo)_

* Pintar la primera fila:

>3E CF 21 FC FC 32 00 C0 32 00 C8 22 01 C0 22 03 C0 22 01 C8 22 03 C8 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 00 32 01 C0 32 01 C8 C3

>3E FC 21 3C FC 32 00 C0 32 00 C8 22 01 C0 22 03 C0 22 01 C8 22 03 C8 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 3E 00 32 01 C0 32 01 C8 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 C3 00 40 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00


### antiguo codigo

>21 52 D8 36 66 26 C8 36 F9 26 D0 36 F9 26 C0 36 F9 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 00 26 E0 36 66 26 D0 36 F9 26 D8 36 F9 26 C8 36 F9 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 00 00 00 00 36 00 26 E8 36 66 26 D8 36 F9 26 E0 36 F9 26 D0 36 F9 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 00 00 00 00 00 00 00 00 36 00 26 F0 36 66 26 E0 36 F9 26 E8 36 F9 26 D8 36 F9 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 00 00 00 00 00 00 00 00 00 00 00 00 36 00 26 F8 36 66 26 E8 36 F9 26 F0 36 F9 26 E0 36 F9 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 C3 00 40

---

## Reto 2.3 
### Animar la pelota unicamente con las instrucciones 21, 36, 26

* Cargar en hl el valor c050 para tener en l el valor 51.
> 21 52 C0

* Cargar en h el valor de la primera fila de colores, en este caso -FRRF-
> 36 66

* Pintar la bola en la A de Amstrad
> 21 52 C0 36 66 26 C8 36 F9 26 D0 36 F9 26 D8 36 F9 18 FE

Animar la bola:

	R -> Rojo, A -> Amarillo, C -> Cyan, F -> Fondo
	66	FRRF
	F9	RAAR
	F9	RAAR
	66	FRRF


> 21 52 C0

	;; EMPIEZA EL PRIMER FRAME
>36 66	
26 C8
36 F9
26 D0
36 F9
26 D8
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL SEGUNDO FRAME
>36 F9
26 C0
36 00
26 C8
36 66
26 D0
36 F9
26 E0
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL TERCER FRAME
>36 F9
26 C8
36 00
26 D0
36 66
26 D8
36 F9
26 E8
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL CUARTO FRAME
>36 F9
26 D0
36 00
26 D8
36 66
26 E0
36 F9
26 F0
36 66
76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL QUINTO FRAME
>36 F9
26 D8
36 00
26 E0
36 66
26 E8
36 F9
26 F8
36 66
76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL SEXTO FRAME
>36 00 
26 E0
36 F9
26 D8
36 66
26 F0 
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL SEPTIMO FRAME
>36 00 
26 D8
36 F9
26 D0
36 66
26 E8 
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; EMPIEZA EL OCTAVO FRAME
>36 00 
26 D0
36 F9
26 C8
36 66
26 E0 
36 66
76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76

	;; BORRAR LA ULTIMA FILA (#E000)
>36 00

	;; LOOP A LA POSICION (#4000)
>C3 00 40

#### Código completo

> 21 52 C0 36 66 26 C8 36 F9 26 D0 36 F9 26 D8 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 F9 26 C0 36 00 26 C8 36 66 26 D0 36 F9 26 E0 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 F9 26 C8 36 00 26 D0 36 66 26 D8 36 F9 26 E8 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 F9 26 D0 36 00 26 D8 36 66 26 E0 36 F9 26 F0 36 66 76 76 76 76 76 76 76 36 F9 26 D8 36 00 26 E0 36 66 26 E8 36 F9 26 F8 36 66 76 76 76 76 76 76 76 76 76 36 00 26 E0 36 F9 26 D8 36 66 26 F0 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 00 26 D8 36 F9 26 D0 36 66 26 E8 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 00 26 D0 36 F9 26 C8 36 66 26 E0 36 66 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 76 36 00 C3 00 40 18 FE

---

### Practica 5

Repetir el parpadeo de una barra de color 20 veces.

Registros:

	A: Lleva recuento de los parpadeos realizados
	B: Lleva recuento de los <i>halt</i>s
	HL: Posicion de memoria donde se pinta la barra de color

#### Código completo

> 21 00 C0 3E 14 36 FF 06 16 76 05 20 FC 36 00 06 16 76 05 20 FC 3D 20 ED 18 FE






